(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{181:function(e,t,a){},304:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(46),o=a.n(i),c=(a(181),a(360)),l=a(359),s=a(361),d=a(358),u=a(29),j=a.n(u),h=a(85),b=a(345),p=a(353),m=a(33),x=a(18),O=a(13),g=a(38),f=function(e,t){switch(t.type){case"USER_LOGIN":return t.payload.fullName&&t.payload.email&&t.payload.address&&t.payload._id?Object(g.a)(Object(g.a)({},e),{},{user:t.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(g.a)(Object(g.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},v=a(2),w=Object(n.createContext)("Initial Value"),y={darkTheme:!0,user:void 0};function C(e){var t=e.children,a=Object(n.useReducer)(f,y),r=Object(O.a)(a,2),i=r[0],o=r[1];return Object(v.jsx)(w.Provider,{value:{state:i,dispatch:o},children:t})}var S="localhost"===window.location.hostname.split(":")[0]?"http://localhost:8000":"",N=m.a({email:m.b("Enter string").email("Enter email").required("this field is required"),password:m.b("enter string").required("password is required")});var E=function(){Object(x.f)();var e=Object(n.useContext)(w),t=(e.state,e.dispatch),a=Object(h.a)({validationSchema:N,initialValues:{email:"",password:""},onSubmit:function(e){console.log(e),j.a.post("".concat(S,"/api/v1/login"),{email:e.email,password:e.password},{withCredentials:!0}).then((function(e){console.log(e),e.data.email&&(t({type:"USER_LOGIN",payload:{fullName:e.data.fullName,email:e.data.email,address:e.data.address,_id:e.data._id}}),alert("login successfull"))})).catch((function(e){alert("login unsuccessfull error found"),console.log("error: ",e)}))}});return Object(v.jsxs)("div",{className:"login",children:[Object(v.jsx)("h1",{children:" Log In"}),Object(v.jsx)("form",{onSubmit:a.handleSubmit,children:Object(v.jsxs)(b.a,{spacing:3,children:[Object(v.jsx)(p.a,{color:"primary",id:"outlined-basic",label:"Email",variant:"outlined",type:"email",name:"email",value:a.values.email,onChange:a.handleChange,error:a.touched.email&&Boolean(a.errors.email),helperText:a.touched.email&&a.errors.email}),Object(v.jsx)(p.a,{color:"primary",type:"password",id:"filled-basic",label:"Password",variant:"outlined",name:"password",value:a.values.password,onChange:a.handleChange,error:a.touched.password&&Boolean(a.errors.password),helperText:a.touched.password&&a.errors.password}),Object(v.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",children:"Log in"})]})})]})},L="localhost"===window.location.hostname.split(":")[0]?"http://localhost:8000":"",T=m.a({fullName:m.b("Enter String").required("this field is required"),email:m.b("Enter string").email("Enter email").required("this field is required"),address:m.b("Enter String").required("this field is required"),password:m.b("enter string").min(8,"Password should be of minimum 8 characters").required("password is required")});var k=function(){var e=Object(x.f)(),t=Object(h.a)({validationSchema:T,initialValues:{fullName:"",email:"",password:"",address:""},onSubmit:function(t){j.a.post("".concat(L,"/api/v1/signup"),{fullName:t.fullName,email:t.email,password:t.password,address:t.address}).then((function(t){alert("data Written"),e.push("/login")})).catch((function(e){alert("Some thing went wrong please try with different email")}))}});return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)("h1",{children:"  Sign Up "}),Object(v.jsx)("form",{onSubmit:t.handleSubmit,children:Object(v.jsxs)(b.a,{spacing:3,children:[Object(v.jsx)(p.a,{color:"primary",id:"outlined-basic",label:"Full Name",variant:"outlined",name:"fullName",value:t.values.fullName,onChange:t.handleChange,error:t.touched.fullName&&Boolean(t.errors.fullName),helperText:t.touched.fullName&&t.errors.fullName}),Object(v.jsx)(p.a,{color:"primary",id:"outlined-basic",label:"Email",variant:"outlined",type:"email",name:"email",value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email}),Object(v.jsx)(p.a,{color:"primary",type:"password",id:"filled-basic",label:"Password",variant:"outlined",name:"password",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password}),Object(v.jsx)(p.a,{color:"primary",id:"filled-basic",label:"Address",variant:"outlined",type:"address",name:"address",value:t.values.address,onChange:t.handleChange,error:t.touched.address&&Boolean(t.errors.address),helperText:t.touched.address&&t.errors.address}),Object(v.jsx)(d.a,{variant:"contained",color:"primary",type:"submit",children:"Sign Up"})]})})]})},_=a(362),q=a(363),B=a(160),U=a(357),G=a(352),F=a(364);function P(){return Object(v.jsxs)(_.a,{varient:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(v.jsx)(q.a,{color:"inherit",href:"https://mui.com",children:"Your Website"})," "," ",(new Date).getFullYear(),"."]})}var W=Object(B.a)();var I=function(){var e,t,a,r=n.useContext(w),i=r.state;return r.dispatch,Object(v.jsxs)(U.a,{theme:W,children:[Object(v.jsx)(G.a,{}),Object(v.jsx)("main",{children:Object(v.jsx)(l.a,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:Object(v.jsxs)(F.a,{maxWidth:"sm",children:[Object(v.jsxs)(_.a,{component:"h5",variant:"h4",align:"center",color:"text.primary",gutterBottom:!0,children:["Full Name: ",null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.fullName]}),Object(v.jsxs)(_.a,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,children:["Email: ",null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.email]}),Object(v.jsxs)(_.a,{variant:"h5",align:"center",color:"text.secondary",paragraph:!0,children:["Address: ",null===i||void 0===i||null===(a=i.user)||void 0===a?void 0:a.address]}),Object(v.jsxs)(b.a,{sx:{pt:4},direction:"row",spacing:2,justifyContent:"center",children:[Object(v.jsx)(d.a,{variant:"contained",children:"Main call to action"}),Object(v.jsx)(d.a,{variant:"outlined",children:"Secondary action"})]})]})})}),Object(v.jsxs)(l.a,{sx:{bgcolor:"background.paper",p:6},component:"footer",children:[Object(v.jsx)(_.a,{variant:"h6",align:"center",gutterBottom:!0,children:"Footer"}),Object(v.jsx)(_.a,{variant:"subtitle1",align:"center",color:"text.secondary",component:"p",children:"Something here to give the footer a purpose!"}),Object(v.jsx)(P,{})]})]})},R=a(14),D=a(161),A=a(4),M=a(367),Y=a(368),V=a(369),J=a(370),H=a(356),z=a(366),K=a(52),Q=a(158),X=a.n(Q),Z=a(159),$=a.n(Z),ee=a(157),te=a.n(ee),ae=["expand"];Object(A.a)((function(e){e.expand;var t=Object(D.a)(e,ae);return Object(v.jsx)(z.a,Object(g.a)({},t))}))((function(e){var t=e.theme;return{transform:e.expand?"rotate(180deg)":"rotate(0deg)",marginLeft:"auto",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest})}}));function ne(e){var t=e.text,a=e.email,n=e.name,i=(e.timestamp,r.a.useState(!1)),o=Object(O.a)(i,2);o[0],o[1];return Object(v.jsx)(M.a,{sx:{maxWidth:345},children:Object(v.jsxs)(Y.a,{avatar:Object(v.jsx)(H.a,{sx:{bgcolor:K.a[500]},"aria-label":"recipe",children:n[0]}),aciton:Object(v.jsx)(z.a,{"aria-label":"settings",children:Object(v.jsx)(te.a,{})}),title:n,subheader:a,children:[Object(v.jsx)(V.a,{children:Object(v.jsx)(_.a,{variant:"body2",color:"text.secondary",children:t})}),Object(v.jsxs)(J.a,{disableSpacing:!0,children:[Object(v.jsx)(z.a,{"aria-label":"add to favorites",children:Object(v.jsx)(X.a,{})}),Object(v.jsx)(z.a,{"aria-label":"share",children:Object(v.jsx)($.a,{})})]})]})})}var re="localhost"===window.location.hostname.split(":")[0]?"http://localhost:8000":"";function ie(){return Object(v.jsxs)(_.a,{varient:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",Object(v.jsx)(q.a,{color:"inherit",href:"https://mui.com",children:"Your Website"})," "," ",(new Date).getFullYear(),"."]})}var oe=Object(B.a)();var ce=function(){var e=Object(n.useState)(""),t=Object(O.a)(e,2),a=t[0],r=t[1],i=Object(n.useContext)(w),o=(i.state,i.dispatch,Object(n.useState)([])),c=Object(O.a)(o,2),s=c[0],u=c[1],h=Object(n.useState)(!1),m=Object(O.a)(h,2),x=m[0],g=m[1],f=Object(n.useState)(!0),y=Object(O.a)(f,2),C=y[0],S=y[1];return Object(n.useEffect)((function(){j.a.get("".concat(re,"/api/posts?page=0"),{withCredentials:!0}).then((function(e){console.log(e.data),u(e.data)}))}),[x]),Object(v.jsxs)(U.a,{theme:oe,children:[Object(v.jsx)(G.a,{}),Object(v.jsx)("main",{children:Object(v.jsx)(l.a,{sx:{bgcolor:"background.paper",pt:8,pb:6},children:Object(v.jsxs)(F.a,{maxWidth:"sm",children:[Object(v.jsx)(_.a,{component:"h5",variant:"h4",align:"center",color:"text.primary",gutterBottom:!0,children:"Dashboard Page"}),Object(v.jsx)(p.a,{fullWidth:!0,id:"outlined-multiline-static",multiline:!0,rows:4,value:a,onChange:function(e){r(e.target.value)},placeholder:"What's in your mind"}),Object(v.jsx)("br",{}),Object(v.jsx)(d.a,{fullWidth:!0,variant:"contained",onClick:function(){""!==a&&j.a.post("".concat(re,"/api/v1/post"),{postText:a},{withCredentials:!0}).then((function(e){g(!x),alert("post created")})).catch((function(e){console.log("error: ",e.message)}))},children:"Post"}),Object(v.jsx)(b.a,{sx:{pt:4},direction:"row",spacing:2,justifyContent:"center"}),Object(v.jsx)("br",{}),s.map((function(e){return Object(v.jsx)(ne,{name:e.fullName,email:e.email,text:e.postText})})),Object(v.jsx)("br",{}),C?Object(v.jsx)(d.a,{onClick:function(){j.a.get("".concat(re,"/api/v1/posts?page=").concat(s.length),{withCredentials:!0}).then((function(e){var t;if(null===(t=e.data)||void 0===t?void 0:t.length){var a=[].concat(Object(R.a)(s),Object(R.a)(e.data));u(a)}else S(!1)}))},children:"Load More ..."}):null]})})}),Object(v.jsxs)(l.a,{sx:{bgcolor:"background.paper",p:6},component:"footer",children:[Object(v.jsx)(_.a,{variant:"h6",align:"center",gutterBottom:!0,children:"Footer"}),Object(v.jsx)(_.a,{variant:"subtitle1",align:"center",color:"text.secondary",component:"p",children:"Something here to give the footer a purpose!"}),Object(v.jsx)(ie,{})]})]})},le=a.p+"static/media/Loading.46059ba8.gif";var se=function(){return Object(v.jsx)("img",{src:le,alt:"Loading"})},de="localhost"===window.location.hostname.split(":")[0]?"http://localhost:8000":"";var ue=function(){var e,t,a=Object(x.f)(),r=Object(n.useContext)(w),i=r.state,o=r.dispatch;return Object(n.useEffect)((function(){return j.a.get("".concat(de,"/api/v1/profile"),{withCredential:!0}).then((function(e){o({type:"USER_LOGIN",payload:{name:e.data.fullName,email:e.data.email,_id:e.data._id}})})).catch((function(e){o({type:"USER_LOGOUT"})})),function(){console.log("cleanup")}}),[]),Object(v.jsxs)("div",{className:"App",children:[(null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.email)?Object(v.jsx)(l.a,{sx:{flexGrow:1},children:Object(v.jsx)(c.a,{position:"static",children:Object(v.jsxs)(s.a,{children:[Object(v.jsx)(d.a,{variant:"h6",component:"div",onClick:function(){return a.push("/")},children:"Dashbaord"}),Object(v.jsx)(d.a,{color:"inherit",onClick:function(){a.push("/profile")},children:"Profile"}),Object(v.jsx)(d.a,{color:"inherit",varient:"Danger",onClick:function(){j.a.post("".concat(de,"/api/v1/logout"),{},{withCredential:!0}).then((function(e){o({type:"USER_LOGOUT"})}))},children:"Logout"})]})})}):Object(v.jsx)(l.a,{sx:{flexGrow:1},children:Object(v.jsx)(c.a,{position:"static",children:Object(v.jsxs)(s.a,{children:[Object(v.jsx)(d.a,{color:"inherit",onClick:function(){a.push("/signup")},children:"Signup"}),Object(v.jsx)(d.a,{color:"inherit",onClick:function(){a.push("/")},children:"Login"})]})})}),void 0===(null===i||void 0===i?void 0:i.user)?Object(v.jsx)(x.c,{children:Object(v.jsx)(x.a,{exact:!0,path:"/",children:Object(v.jsx)(se,{})})}):null,null===(null===i||void 0===i?void 0:i.user)?Object(v.jsxs)(x.c,{children:[Object(v.jsx)(x.a,{exact:!0,path:"/",component:E}),Object(v.jsx)(x.a,{exact:!0,path:"/signup",component:k})]}):null,(null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.email)?Object(v.jsxs)(x.c,{children:[Object(v.jsx)(x.a,{exact:!0,path:"/",children:Object(v.jsx)(ce,{})}),Object(v.jsx)(x.a,{exact:!0,path:"/profile",children:Object(v.jsx)(I,{})})]}):null]})},je=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,371)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),n(e),r(e),i(e),o(e)}))},he=a(63);o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(C,{children:Object(v.jsx)(he.a,{children:Object(v.jsx)(ue,{})})})}),document.getElementById("root")),je()}},[[304,1,2]]]);
//# sourceMappingURL=main.4545a798.chunk.js.map